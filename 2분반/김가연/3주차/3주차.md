# 3ì£¼ì°¨ - Chapter 1-21 ~ 1-38

## ğŸ“‘ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•
### â–¶ï¸ ë°°ì—´(Array)
í­ë°œì ìœ¼ë¡œ ë§ì€ ë°ì´í„°(ì •ë³´)ë¥¼ ê´€ë¦¬ / ê²€ìƒ‰ / ì‚­ì œí• ë•Œ ìœ ìš©í•˜ê²Œ ì“°ì´ëŠ” ë°ì´í„° íƒ€ì….
```
//ë°°ì—´ ìƒì„±
var arr = ['A', 'B', 'C', 'D']; //ë°°ì—´ ìƒì„± -> ë³€ìˆ˜ì— í• ë‹¹

//ë°°ì—´ ê²€ìƒ‰
console.log(arr); //ë°°ì—´ ì „ì²´ ê°’ ì¶œë ¥ -> ['A', 'B', 'C', 'D']
console.log(arr[1]); //B
console.log(arr[3]); //D

//ë°°ì—´ ìˆ˜ì •
arr[2] = 3; //['A', 'B', 3, 'D']

//ë°°ì—´ í¬ê¸°(ê¸¸ì´) êµ¬í•˜ê¸°
console.log(arr.length); //4

//ë°°ì—´ì˜ ë§ˆì§€ë§‰ì— ê°’ ì¶”ê°€í•˜ê¸°
arr.push('E'); //['A', 'B', 3, 'D', 'E']
```
### â–¶ï¸ ë°°ì—´ê³¼ ë°˜ë³µë¬¸
```
var number = [1, 400, 12, 34, 5];
var i = 0;
while(i < 5) { //5ë²ˆ (ë°°ì—´ê¸¸ì´) ë§Œí¼ ë°˜ë³µ
    console.log(number[i]); //ë°°ì—´ì˜ ì²« ë²ˆì§¸ ë¶€í„° ë‹¤ì„¯ ë²ˆì§¸ ìš”ì†Œê¹Œì§€ ì°¨ë¡€ë¡œ ì¡°íšŒ
    i = i + 1;
}

/*
1
400
12
34
5
*/

var number = [1, 400, 12, 34, 5, 10000];
var i = 0; 
while(i < number.length) { //ë°°ì—´ í¬ê¸°ê°€ ì¡°ì •ë˜ì–´ë„ ìœ ì—°í•˜ê²Œ ë°˜ë³µ íšŸìˆ˜ë¥¼ ê²°ì •
    console.log(number[i]);
    i = i + 1;
}

/*
1
400
12
34
5
10000
*/
```

### â–¶ï¸ í•¨ìˆ˜
```
// ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜

//ë§¤ê°œë³€ìˆ˜: í•¨ìˆ˜ì˜ ì…ë ¥ê°’ìœ¼ë¡œ ì „ë‹¬ë°›ëŠ” ë³€ìˆ˜
//ì¸ì: í•¨ìˆ˜ë¥¼ í˜¸ì¶œí• ë•Œ ì „ë‹¬í•˜ëŠ” ê°’
//return í‚¤ì›Œë“œ: í•¨ìˆ˜ê°€ ìì‹ ì„ í˜¸ì¶œí•œ ìª½ìœ¼ë¡œ ê°’ì„ ì „ë‹¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” í‚¤ì›Œë“œ. returnë¬¸ ì´í›„ì˜ ëª…ë ¹ì€ ìƒëµí•˜ê³  ì¶œë ¥ë˜ë¯€ë¡œ ì£¼ì˜í• ê²ƒ.

//ë°˜ë³µì ì¸ ë™ì‘ ì‹¤í–‰ ì‹œí‚¤ê³  ì‹¶ìœ¼ë©´ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ ë†“ëŠ”ê²Œ í¸ë¦¬í•˜ë‹¤. => ì¤‘ë³µëœ ì½”ë“œ ì œê±°ì— ì‚¬ìš©
function f123() { // í•¨ìˆ˜ì˜ ì…ë ¥
  console.log(1);
  console.log(2);
  console.log(3);
}

f123(); //ì‹¤í–‰ - í•¨ìˆ˜ì˜ ì¶œë ¥

function sum(first, second) {
  return first + second; //ë§¤ê°œë³€ìˆ˜ ë‘ ê°œ ë”í•œ ê°’ í˜¸ì¶œí•˜ëŠ” ìª½ìœ¼ë¡œ ì „ë‹¬ (í•¨ìˆ˜ê°€ í˜¸ì¶œí•œ ìª½ìœ¼ë¡œ ê°’ì„ ì „ë‹¬)
  console.log('6'); // ì¶œë ¥ë˜ì§€ ì•ŠëŠ” ëª…ë ¹.
}

console.log(sum(1, 2)) //3
```

## ğŸ“‘íŒŒì¼ ëª©ë¡ ì½ì–´ì˜¤ê¸°
### â–¶ï¸ main.js `<li>` íƒœê·¸ ì§ì ‘ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ì •ì ì¸ ì½”ë“œ -> ë™ì ìœ¼ë¡œ data ë””ë ‰í„°ë¦¬ íŒŒì¼ë“¤ ì½ì–´ì™€ì„œ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•Šì•„ë„ ìˆ˜ì • ë‚´ìš© ë°˜ì˜ë˜ê²Œ ì½”ë“œ ìˆ˜ì •

```
//main.js
var http = require("http");
var fs = require("fs");
var url = require("url");

//html í˜ì´ì§€ ë§Œë“œëŠ” ë¶€ë¶„ í•¨ìˆ˜ë¡œ êµ¬í˜„
function templateHTML(title, list, body) {
  return `
  <!doctype html>
  <html>
  <head>
    <title>WEB - ${title}</title>
    <meta charset="utf-8">
  </head>
  <body>
    <h1><a href="/">WEB</a></h1>
    ${list}
    <p>${body}</p>
  </body>
  </html>`;
} //html í˜ì´ì§€ êµ¬í˜„ ì½”ë“œë¥¼ ë¦¬í„´ê°’ìœ¼ë¡œ

// list ë³€ìˆ˜ ì •ì˜í•˜ëŠ” ê²ƒ í•¨ìˆ˜ë¡œ êµ¬í˜„
function templateList(filelist) {
  var list = "<ul>"; //ëª©ë¡ ì‹œì‘ íƒœê·¸ ì´ˆê¸°í™”
  var i = 0; // ë°˜ë³µë¬¸ ì´ˆê¸°í™” ë³€ìˆ˜ ì„¤ì •

  while (i < filelist.length) {
    list = list + `<li><a href="/?id=${filelist[i]}"> ${filelist[i]}</a></li>`; // ë°˜ë³µë¬¸ ì•ˆì—ì„œ ëª©ë¡ì„ ë§Œë“œëŠ” íƒœê·¸ ì¶”ê°€, ê° íŒŒì¼ ì´ë¦„ì— ëŒ€í•œ ë§í¬ ìƒì„±
    i = i + 1; // ë£¨í”„ ëŒ ë•Œë§ˆë‹¤ ë°°ì—´ ì¸ë±ìŠ¤ ê°’ +1
  }
  list = list + "</ul>"; // ëª©ë¡ ë íƒœê·¸ ì¶”ê°€

  return list; //ë¦¬í„´ê°’ list
}

var app = http.createServer(function (request, response) {
  var _url = request.url;
  var queryData = url.parse(_url, true).query;
  var pathname = url.parse(_url, true).pathname;

  if (pathname === "/") {
    //ë£¨íŠ¸ë¼ë©´ ê¸°ì¡´ ì½”ë“œë¥¼ ì‹¤í–‰
    if (queryData.id === undefined) {
      //ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì´ ì—†ì„ë•Œì˜ ì²˜ë¦¬(í™ˆì¼ë•Œ)

      // íŒŒì¼ ì½ì–´ì˜¤ê¸°
      fs.readdir("./data", function (error, filelist) {
        var title = "Welcome";
        var description = "Hello, Node.js";
        var list = templateList(filelist); // í•¨ìˆ˜ í˜¸ì¶œí•´ì„œ list ë³€ìˆ˜ ì •ì˜
        var template = templateHTML(
          title,
          list,
          `<h2>${title}</h2><p>${description}</p>`
        ); //í•¨ìˆ˜ í˜¸ì¶œí•´ì„œ í˜ì´ì§€ ë‚´ìš© ì¶œë ¥

        response.writeHead(200); // íŒŒì¼ ì „ì†¡ ì„±ê³µ
        response.end(template);
      });
    } else {
      //ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì´ ìˆì„ ë•Œì˜ ì²˜ë¦¬(í™ˆì´ ì•„ë‹ ë•Œ)
      fs.readdir("./data", function (error, filelist) {
        fs.readFile(
          `data/${queryData.id}`,
          "utf-8",
          function (err, description) {
            var title = queryData.id;
            var list = templateList(filelist); // í•¨ìˆ˜ í˜¸ì¶œí•´ì„œ list ë³€ìˆ˜ ì •ì˜
            var template = templateHTML(
              title,
              list,
              `<h2>${title}</h2><p>${description}</p>`
            ); //í•¨ìˆ˜ í˜¸ì¶œí•´ì„œ í˜ì´ì§€ ë‚´ìš© ì¶œë ¥

            response.writeHead(200); // íŒŒì¼ ì „ì†¡ ì„±ê³µ
            response.end(template);
          }
        );
      });
    }
  } else {
    //ì˜¤ë¥˜ (ë£¨íŠ¸ê°€ ì•„ë‹ ë•Œì˜ ì²˜ë¦¬)
    response.writeHead(404); // íŒŒì¼ ì „ì†¡ ì‹¤íŒ¨
    response.end("Not found");
  }
});

app.listen(3000);
```

## ğŸ“‘ ë™ê¸°ì™€ ë¹„ë™ê¸° ê·¸ë¦¬ê³  ì½œë°±
### â–¶ï¸ ë™ê¸° ì²˜ë¦¬ ë°©ì‹
: í•˜ë‚˜ì˜ ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ ë‹¤ìŒ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹. (ex. fs.creadFileSync(path[, options)) <br>
  ë³€ìˆ˜ì— ë‹´ì•„ì„œ ì‚¬ìš©
### â–¶ï¸ ë¹„ë™ê¸° ì²˜ë¦¬ ë°©ì‹
: ë³‘ë ¬ë¡œ ë™ì‹œì— ì—¬ëŸ¬ ê°€ì§€ ì¼ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ (ex. readFile(path[, options], callback) <br>
  ê²°ê³¼ê°’ì„ ë°˜í™˜í•˜ì§€ ì•ŠìŒ. ë”°ë¼ì„œ ë§¤ê°œë³€ìˆ˜ì— callback í•¨ìˆ˜ë¥¼ ë„£ìŒ. ì²˜ë¦¬ ì‹œê°„ì´ ì‹¤í–‰ íë¦„ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤.

```
var fs = require('fs');

//readFileSync(ë™ê¸°)
console.log('A');
var result = fs.readFileSync('syntax/sample.txt', 'utf-8');
console.log(result);
console.log('C');
/*
A
B
C
*/

//readFile(ë¹„ë™ê¸°) -> ê²°ê³¼ê°’ì„ ë°˜í™˜í•˜ì§€ ì•ŠìŒ. ë”°ë¼ì„œ ë³€ìˆ˜ì— ë‹´ì•„ì„œ ì‚¬ìš© ë¶ˆê°€ --> ëŒ€ì‹  callback ë§¤ê°œë³€ìˆ˜ ìë¦¬ì— ì „ë‹¬í•œ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ê²°ê³¼ê°’ ì „ë‹¬í•˜ê¸°
console.log('A');
fs.readFile('syntax/sample.txt', 'utf-8', function(err, readfileResult){
  console.log(readfileResult);
});
console.log('C');
/*
A
C
B
*/
```

### â–¶ï¸ ì½œë°±í•¨ìˆ˜ì™€ ìµëª…í•¨ìˆ˜ ê¸°ë³¸
```
function a() { // í•¨ìˆ˜ëª… ì¡´ì¬í•˜ëŠ” í•¨ìˆ˜
  console.log("A");
}

a(); //A

//ìµëª…í•¨ìˆ˜ì˜ ì„ ì–¸ê³¼ í˜¸ì¶œ
var b = function () { //í•¨ìˆ˜ëª…ì´ ì—†ìŒ
  console.log("B");
}; //ìµëª…í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë ¤ë©´ í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì— í• ë‹¹í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë‹¤. -> í•¨ìˆ˜ê°€ ë³€ìˆ˜ê°’ì´ ëœë‹¤!!

b(); //ìµëª…í•¨ìˆ˜ì˜ í˜¸ì¶œ

//ì²˜ë¦¬ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” í•¨ìˆ˜ë¼ê³  ê°€ì •í•œ í•¨ìˆ˜ ì •ì˜, í•¨ìˆ˜ì˜ ì‹¤í–‰ ëë‚˜ë©´ ìë™ìœ¼ë¡œ ì–´ë–¤ ë‹¤ë¥¸ í•¨ìˆ˜ í˜¸ì¶œí•´ë‹¬ë¼ê³  í•˜ê¸°
function slowfunc(callback) {
  callback(); //slowfuncì˜ ì‹¤í–‰ ëë‚˜ê³  í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜
}

slowfunc(b); //slowfuncì˜ ì‹¤í–‰ ëë‚˜ê³  í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ì „ë‹¬í•´ì•¼í•¨.

//B
```

## ğŸ“‘íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €
### â–¶ï¸ íŒ¨í‚¤ì§€: ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì¼ì»«ëŠ” ì—¬ëŸ¬ ê°€ì§€ í‘œí˜„ ì¤‘ í•˜ë‚˜
### â–¶ï¸ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €: íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜, ì—…ë°ì´íŠ¸, ì‚­ì œ í•˜ëŠ” ë“± ê´€ë¦¬í•˜ëŠ”ë° ë„ì›€ì„ ì£¼ëŠ” í”„ë¡œê·¸ë¨ì„ ë§í•¨.
### â–¶ï¸ PM2: Node.jsë¡œ ë§Œë“  í”„ë¡œì„¸ìŠ¤ë¥¼ ê´€ë¦¬í•´ì£¼ëŠ” í”„ë¡œê·¸ë¨
: íŒŒì¼ ë‚´ìš©ì„ ë³€ê²½í–ˆì„ë•Œ, Node.jsë¥¼ ì¬ì‹œë™í•˜ì§€ ì•Šì•„ë„ ì¦‰ì‹œ ë°˜ì˜ë˜ê²Œ í•  ìˆ˜ ìˆìŒ. (ìƒˆë¡œê³ ì¹¨ë§Œ í•˜ë©´ ë¨)
#### PM2 ëª…ë ¹ì–´
* npm install pm2 -g -> npmì„ í†µí•´ PM2ë¥¼ ì„¤ì¹˜, ì´ ì»´í“¨í„°ì˜ ì–´ëŠ ìœ„ì¹˜ì—ì„œë‚˜ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ì„¤ì • ì˜µì…˜
* pm2 start main.js -> PM2 ì‹¤í–‰
* pm2 monit -> í”„ë¡œì„¸ìŠ¤ ê°ì‹œ
* pm2 list -> í”„ë¡œì„¸ìŠ¤ ëª©ë¡ì„ í™•ì¸
* pm2 stop main -> í”„ë¡œì„¸ìŠ¤ ì¤‘ë‹¨
* pm2 log -> ì†ŒìŠ¤íŒŒì¼ì´ ë³€ê²½ë ë•Œë§ˆë‹¤ ê°ì‹œ ê²°ê³¼ë¥¼ ë¡œê·¸ë¡œ ë³´ì—¬ì¤Œ. ì½”ë“œ ì˜¤ë¥˜ í™•ì¸í• ë•Œ ìœ ìš©í•˜ë‹¤.

## ğŸ“‘HTML - Form íƒœê·¸
```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>form</title>
</head>
<body>
    <form action="http://localhost:3000/process_create" method="post"> <!--method ì†ì„±ì„ postë¡œ í•˜ë©´ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì´ ì£¼ì†Œ í‘œì‹œì¤„ì— ëª…ì‹œì ìœ¼ë¡œ í‘œì‹œë˜ì§€ ì•ŠìŒ.--> 
        <p><input type="text" name="title"></p> <!--ì‚¬ìš©ìë¡œë¶€í„° ê°’ì„ ì…ë ¥ë°›ëŠ” input íƒœê·¸-->
        <p> 
            <textarea name="description"></textarea> <!--ì—¬ëŸ¬ì¤„ì˜ ë°ì´í„°ë¥¼ ì…ë ¥ë°›ê³ ì í•  ë•Œ ì‚¬ìš©-->
        </p>
        <p>
            <input type="submit" name="submit"> <!--ë²„íŠ¼ ëˆ„ë¥´ë©´ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë°ì´í„° ì „ì†¡ë¨.-->
        </p>
    </form>
</body>
</html>
```
* ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë°ì´í„°ì˜ í‘œì‹œ: ì…ë ¥ ë°ì´í„°ë¥¼ ì£¼ì†Œ í‘œì‹œì¤„ì— ê·¸ëŒ€ë¡œ ë…¸ì¶œë˜ë©´ ì•ˆ ë¨.
  - ë¯¼ê°í•œ ë°ì´í„°ì˜ ë‚´ìš©, ì£¼ì†Œì˜ ë…¸ì¶œ -> ì˜ë„í•˜ì§€ ì•Šì€ ë°ì´í„° ì¡°ì‘ ë“±ì˜ ë¬¸ì œ ë°œìƒ ìš°ë ¤
  - `<form>`íƒœê·¸ì˜ method ì†ì„±ì„ 'post'ë¡œ ì§€ì • -> ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì´ ë³´ì´ì§€ ì•ŠìŒ.
  - ì•ˆì „í•˜ê²Œ ì „ì†¡ê°€ëŠ¥, ì•„ì£¼ í° ë°ì´í„°ë„ ë³´ë‚¼ ìˆ˜ ìˆìŒ.

* ì›¹ ì„œë²„ì— ìˆëŠ” ë°ì´í„° ê°€ì ¸ì˜¬ ë•Œì˜ í‘œì‹œ: ì£¼ì†Œ í‘œì‹œì¤„ì— ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì´ ë…¸ì¶œë˜ì–´ë„ ê´œì°®ìŒ -> ê·¸ë˜ì•¼ë§Œ í•´ë‹¹ì£¼ì†Œë¥¼ ë³µì‚¬í•´ì„œ ë‹¤ë¥¸ ì‚¬ëŒê³¼ ê³µìœ í•´ ê°™ì€ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŒ
  - method ì†ì„± ìƒëµ, getìœ¼ë¡œ ì„¤ì • -> ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì´ URLì— í‘œì‹œ
  - ì „ì†¡í•  ìˆ˜ ìˆëŠ” ë°ì´í„° ì–‘ì´ ì œí•œì ì¼ ìˆ˜ ìˆìŒ.
 
## ğŸ“‘ ê¸€ ìƒì„± UI ë§Œë“¤ê¸° / POST ë°©ì‹ìœ¼ë¡œ ì „ì†¡ëœ ë°ì´í„° ë°›ê¸°
```
// main.js ì½”ë“œ
var http = require("http");
var fs = require("fs");
var url = require("url");
var qs = require("querystring"); //querystring ëª¨ë“ˆ í¬í•¨ì‹œí‚¤ê¸°
const path = require("path");

//html í˜ì´ì§€ ë§Œë“œëŠ” ë¶€ë¶„ í•¨ìˆ˜ë¡œ êµ¬í˜„
function templateHTML(title, list, body) {
  return `
  <!doctype html>
  <html>
  <head>
    <title>WEB - ${title}</title>
    <meta charset="utf-8">
  </head>
  <body>
    <h1><a href="/">WEB</a></h1>
    ${list}
    <a href="/create">create</a>
    <p>${body}</p>
  </body>
  </html>`;
}

// list ë³€ìˆ˜ ì •ì˜í•˜ëŠ” ê²ƒ í•¨ìˆ˜ë¡œ êµ¬í˜„
function templateList(filelist) {
  var list = "<ul>"; //ëª©ë¡ ì‹œì‘ íƒœê·¸ ì´ˆê¸°í™”
  var i = 0; // ë°˜ë³µë¬¸ ì´ˆê¸°í™” ë³€ìˆ˜ ì„¤ì •

  while (i < filelist.length) {
    list = list + `<li><a href="/?id=${filelist[i]}"> ${filelist[i]}</a></li>`; // ë°˜ë³µë¬¸ ì•ˆì—ì„œ ëª©ë¡ì„ ë§Œë“œëŠ” íƒœê·¸ ì¶”ê°€, ê° íŒŒì¼ ì´ë¦„ì— ëŒ€í•œ ë§í¬ ìƒì„±
    i = i + 1; // ë£¨í”„ ëŒ ë•Œë§ˆë‹¤ ë°°ì—´ ì¸ë±ìŠ¤ ê°’ +1
  }
  list = list + "</ul>"; // ëª©ë¡ ë íƒœê·¸ ì¶”ê°€
  return list; //ë¦¬í„´ê°’ list
}

var app = http.createServer(function (request, response) {
  var _url = request.url;
  var queryData = url.parse(_url, true).query;
  var pathname = url.parse(_url, true).pathname;

  if (pathname === "/") {
    //ë£¨íŠ¸ë¼ë©´ ê¸°ì¡´ ì½”ë“œë¥¼ ì‹¤í–‰
    if (queryData.id === undefined) {
      //ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì´ ì—†ì„ë•Œì˜ ì²˜ë¦¬(í™ˆì¼ë•Œ)

      // íŒŒì¼ ì½ì–´ì˜¤ê¸°
      fs.readdir("./data", function (error, filelist) {
        var title = "Welcome";
        var description = "Hello, Node.js";
        var list = templateList(filelist); // í•¨ìˆ˜ í˜¸ì¶œí•´ì„œ list ë³€ìˆ˜ ì •ì˜
        var template = templateHTML(
          title,
          list,
          `<h2>${title}</h2><p>${description}</p>`
        ); //í•¨ìˆ˜ í˜¸ì¶œí•´ì„œ í˜ì´ì§€ ë‚´ìš© ì¶œë ¥

        response.writeHead(200); // íŒŒì¼ ì „ì†¡ ì„±ê³µ
        response.end(template);
      });
    } else {
      //ë­ë¦¬ìŠ¤íŠ¸ë§ì´ ìˆì„ ë•Œì˜ ì²˜ë¦¬(í™ˆì´ ì•„ë‹ ë•Œ)
      fs.readdir("./data", function (error, filelist) {
        fs.readFile(
          `data/${queryData.id}`,
          "utf-8",
          function (err, description) {
            var title = queryData.id;
            var list = templateList(filelist); // í•¨ìˆ˜ í˜¸ì¶œí•´ì„œ list ë³€ìˆ˜ ì •ì˜
            var template = templateHTML(
              title,
              list,
              `<h2>${title}</h2><p>${description}</p>`
            ); //í•¨ìˆ˜ í˜¸ì¶œí•´ì„œ í˜ì´ì§€ ë‚´ìš© ì¶œë ¥

            response.writeHead(200); // íŒŒì¼ ì „ì†¡ ì„±ê³µ
            response.end(template);
          }
        );
      });
    }
  } else if(pathname === '/create') { // create ë§í¬ë¡œ ë“¤ì–´ê°”ì„ë•Œì˜ í™”ë©´ êµ¬í˜„
    fs.readdir('./data', function(error, filelist){
      var title = 'WEB - create';
      var list = templateList(filelist);
      var template = templateHTML(title, list, `
        <form action="http://localhost:3000/create_process" method="post">
        <p><input type="text" name="title" placeholder="title"></p>
        <p>
          <textarea name="description" placeholder="description"></textarea>
        </p>
        <p>
          <input type="submit">
        </form>`
      );
      
      response.writeHead(200);
      response.end(template);
    });

  } else if(pathname === '/create/process') {
    var body = '';
    request.on('data', function(data) { // dataë¼ê³  í•˜ëŠ” ì´ë²¤íŠ¸ëŠ” ë°ì´í„°ë¥¼ ìˆ˜ì‹ í• ë•Œë§ˆë‹¤ ë°œìƒ -> ì½œë°±ì— ë°ì´í„° ì²˜ë¦¬ ê¸°ëŠ¥ ì •ì˜
      // ì¡°ê°ì¡°ê° ë‚˜ëˆ ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•  ë•Œë§ˆë‹¤ í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜
      // ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì •ì˜

      body = body + data; // ì½œë°±ìœ¼ë¡œ ì „ë‹¬ë°›ì€ ì¸ì  dataì— ë‹´ê¸´ ë‚´ìš©ì„ ë³€ìˆ˜ bodyì— ëˆ„ì í•´ì„œ í•©ì¹œë‹¤
    });
    request.on('end', function(end) { // end ì´ë²¤íŠ¸ëŠ” ë°ì´í„° ìˆ˜ì‹ ì„ ì™„ë£Œí•˜ë©´ ë°œìƒ -> ì½œë°±ì— ë°ì´í„° ì²˜ë¦¬ë¥¼ ë§ˆë¬´ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì •ì˜
      // ë” ì´ìƒ ìˆ˜ì‹ í•  ì •ë³´ê°€ ì—†ìœ¼ë©´ í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜ (ë°ì´í„°ê°€ ë§ì„ ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ì„œ ë°ì´í„° ìˆ˜ì‹ ì‹œ ë‚˜ëˆ ì„œ ìˆ˜ì‹ í•¨)
      // ë°ì´í„° ì²˜ë¦¬ë¥¼ ë§ˆë¬´ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì •ì˜
      var post = qs.parse(body);
      var title = post.title;
      var description = post.description;
      console.log(title);
      console.log(description);
    });
    
  } else {
    //ì˜¤ë¥˜ (ë£¨íŠ¸ê°€ ì•„ë‹ ë•Œì˜ ì²˜ë¦¬)
    response.writeHead(404); // íŒŒì¼ ì „ì†¡ ì‹¤íŒ¨
    response.end("Not found");
  }
});

app.listen(3000);
```

### â–¶ï¸Node.jsì˜ createServer
Node.jsì—ì„œ ì›¹ ë¸Œë¼ìš°ì €ë¡œ ì ‘ì†í•  ë•Œë§ˆë‹¤ Node.jsê°€ createServerì˜ ì½œë°±í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. ì´ ë•Œ, createServerë¡œ ë‘ ê°œì˜ ì¸ìë¥¼ ì „ë‹¬í•¨

```
var app = http.createServer(function(request, response) {
```
* request: ìš”ì²­í•  ë•Œ ì›¹ ë¸Œë¼ìš°ì €ê°€ ë³´ë‚¸ ì •ë³´ê°€ ë‹´ê²¨ìˆìŒ.
* response: ì‘ë‹µí•  ë•Œ ì›¹ ë¸Œë¼ìš°ì €ê°€ ì „ì†¡í•  ì •ë³´ë¥¼ ë‹´ìŒ.

## ğŸ“‘ writeFileì™€ ë¦¬ë‹¤ì´ë ‰ì…˜
### â–¶ï¸writeFile -> íŒŒì¼ ì‘ì„±

```
//main.js ì½”ë“œ -> fs.writeFileì„ í†µí•´ ì‚¬ìš©ì ì…ë ¥ê°’ì„ data/title ê²½ë¡œì— ìˆëŠ” íŒŒì¼ì— ì ìš©ì‹œì¼°ìŒ.

else if(pathname === '/create/process') {
    var body = '';
    request.on('data', function(data) { // dataë¼ê³  í•˜ëŠ” ì´ë²¤íŠ¸ëŠ” ë°ì´í„°ë¥¼ ìˆ˜ì‹ í• ë•Œë§ˆë‹¤ ë°œìƒ -> ì½œë°±ì— ë°ì´í„° ì²˜ë¦¬ ê¸°ëŠ¥ ì •ì˜
      // ì¡°ê°ì¡°ê° ë‚˜ëˆ ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•  ë•Œë§ˆë‹¤ í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜
      // ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì •ì˜

      body = body + data; // ì½œë°±ìœ¼ë¡œ ì „ë‹¬ë°›ì€ ì¸ì  dataì— ë‹´ê¸´ ë‚´ìš©ì„ ë³€ìˆ˜ bodyì— ëˆ„ì í•´ì„œ í•©ì¹œë‹¤
    });
    request.on('end', function(end) { // end ì´ë²¤íŠ¸ëŠ” ë°ì´í„° ìˆ˜ì‹ ì„ ì™„ë£Œí•˜ë©´ ë°œìƒ -> ì½œë°±ì— ë°ì´í„° ì²˜ë¦¬ë¥¼ ë§ˆë¬´ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì •ì˜
      // ë” ì´ìƒ ìˆ˜ì‹ í•  ì •ë³´ê°€ ì—†ìœ¼ë©´ í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜ (ë°ì´í„°ê°€ ë§ì„ ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ì„œ ë°ì´í„° ìˆ˜ì‹ ì‹œ ë‚˜ëˆ ì„œ ìˆ˜ì‹ í•¨)
      // ë°ì´í„° ì²˜ë¦¬ë¥¼ ë§ˆë¬´ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì •ì˜
      var post = qs.parse(body);
      var title = post.title;
      var description = post.description;
      fs.writeFile(`data/${title}`, description, 'utf-8', function(err) { // writeHead(íŒŒì¼ëª…, íŒŒì¼ë‚´ìš©, ì¸ì½”ë”© ë°©ì‹, ì½œë°±í•¨ìˆ˜{}); --> íŒŒì¼ì— ë°ì´í„° ì“°ê¸°
        response.writeHead(200);
        response.end('success');
      });
    });
```
### â–¶ï¸ë¦¬ë‹¤ì´ì—‘ì…˜
: writeFileë¡œ ìƒì„±í•œ íŒŒì¼ì„ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ê¸°






